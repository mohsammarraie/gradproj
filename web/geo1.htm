<!DOCTYPE html>
<html>
  <head>
    <title>mobiForge geolocation map API demo</title>
    <style>
      body,html {height:50%}
      #map {width:50%;height:50%;}
    </style>
    <script src="//maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
    <script>
     
      function initGeolocation() {
            if (navigator && navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(successCallback, errorCallback);
            } else {
                console.log('Geolocation is not supported');
        }
      }
     
      function errorCallback() {}

      function successCallback(position) {
        var myLatlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
        var map_options = {
          zoom: 15,
          center: myLatlng,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
       map_container = document.getElementById('map');
       var map = new google.maps.Map(map_container, map_options);
      }      
    </script>
  </head>
  <body onload="javascript:initGeolocation()">
    <div id="map">
    </div>
  </body>
</html>
